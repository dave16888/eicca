import{m as We,c as Qe,u as Ye,V as Se,f as qe,d as Ze,g as Je,h as be,b as _e,e as De}from"./VField-bf0ebd37.js";import{p as le,g as ce,aH as Xe,u as oe,R as I,d as j,h as se,a0 as Ge,a as n,m as Y,ab as et,ac as tt,F as $,aI as lt,a2 as Ve,a4 as fe,a5 as nt,B as Me,ar as Re,e as ie,Q as te,aJ as Ae,aq as at,aF as ut,av as Ie,aK as ot,aL as it,aM as ct,K as st,aN as rt,l as ve,f as dt,aO as vt,aP as ft,I as mt,aQ as ht,aR as gt,Z as Te,aS as Le,aT as yt,b as Be,aU as Ke,aV as Oe,U as Ee,W as me,Y as he,i as Ue,y as He,a1 as xe,aW as ye,aX as pe,aY as pt,am as Vt,aZ as xt}from"./index-6a95c3ae.js";const kt=["color","file","time","date","datetime-local","week","month"],ke=le({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,type:{type:String,default:"text"},modelModifiers:Object,...We(),...Qe()},"VTextField"),ge=ce()({name:"VTextField",directives:{Intersect:Xe},inheritAttrs:!1,props:ke(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,i){let{attrs:t,emit:h,slots:o}=i;const c=oe(e,"modelValue"),{isFocused:r,focus:a,blur:f}=Ye(e),x=I(()=>typeof e.counterValue=="function"?e.counterValue(c.value):(c.value??"").toString().length),g=I(()=>{if(t.maxlength)return t.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),u=I(()=>["plain","underlined"].includes(e.variant));function d(C,v){var m,k;!e.autofocus||!C||(k=(m=v[0].target)==null?void 0:m.focus)==null||k.call(m)}const y=j(),b=j(),P=j(),D=I(()=>kt.includes(e.type)||e.persistentPlaceholder||r.value||e.active);function B(){var C;P.value!==document.activeElement&&((C=P.value)==null||C.focus()),r.value||a()}function V(C){h("mousedown:control",C),C.target!==P.value&&(B(),C.preventDefault())}function M(C){B(),h("click:control",C)}function T(C){C.stopPropagation(),B(),fe(()=>{c.value=null,nt(e["onClick:clear"],C)})}function Z(C){var m;const v=C.target;if(c.value=v.value,(m=e.modelModifiers)!=null&&m.trim&&["text","search","password","tel","url"].includes(e.type)){const k=[v.selectionStart,v.selectionEnd];fe(()=>{v.selectionStart=k[0],v.selectionEnd=k[1]})}}return se(()=>{const C=!!(o.counter||e.counter||e.counterValue),v=!!(C||o.details),[m,k]=Ge(t),[{modelValue:K,...q}]=Se.filterProps(e),[J]=qe(e);return n(Se,Y({ref:y,modelValue:c.value,"onUpdate:modelValue":O=>c.value=O,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-text-field--plain-underlined":["plain","underlined"].includes(e.variant)},e.class],style:e.style},m,q,{centerAffix:!u.value,focused:r.value}),{...o,default:O=>{let{id:s,isDisabled:w,isDirty:E,isReadonly:G,isValid:ee}=O;return n(Ze,Y({ref:b,onMousedown:V,onClick:M,"onClick:clear":T,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},J,{id:s.value,active:D.value||E.value,dirty:E.value||e.dirty,disabled:w.value,focused:r.value,error:ee.value===!1}),{...o,default:p=>{let{props:{class:L,..._}}=p;const U=et(n("input",Y({ref:P,value:c.value,onInput:Z,autofocus:e.autofocus,readonly:G.value,disabled:w.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:B,onBlur:f},_,k),null),[[tt("intersect"),{handler:d},null,{once:!0}]]);return n($,null,[e.prefix&&n("span",{class:"v-text-field__prefix"},[n("span",{class:"v-text-field__prefix__text"},[e.prefix])]),n("div",{class:L,"data-no-activator":""},[o.default?n($,null,[o.default(),U]):lt(U)]),e.suffix&&n("span",{class:"v-text-field__suffix"},[n("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:v?O=>{var s;return n($,null,[(s=o.details)==null?void 0:s.call(o,O),C&&n($,null,[n("span",null,null),n(Je,{active:e.persistentCounter||r.value,value:x.value,max:g.value},o.counter)])])}:void 0})}),Ve({},y,b,P)}});const Ct=le({renderless:Boolean,...Me()},"VVirtualScrollItem"),wt=ce()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Ct(),emits:{"update:height":e=>!0},setup(e,i){let{attrs:t,emit:h,slots:o}=i;const{resizeRef:c,contentRect:r}=Re(void 0,"border");ie(()=>{var a;return(a=r.value)==null?void 0:a.height},a=>{a!=null&&h("update:height",a)}),se(()=>{var a,f;return e.renderless?n($,null,[(a=o.default)==null?void 0:a.call(o,{itemRef:c})]):n("div",Y({ref:c,class:["v-virtual-scroll__item",e.class],style:e.style},t),[(f=o.default)==null?void 0:f.call(o)])})}}),Pe=-1,Fe=1,St=le({itemHeight:{type:[Number,String],default:48}},"virtual");function It(e,i,t){const h=te(0),o=te(e.itemHeight),c=I({get:()=>parseInt(o.value??0,10),set(v){o.value=v}}),r=j(),{resizeRef:a,contentRect:f}=Re();Ae(()=>{a.value=r.value});const x=at(),g=new Map;let u=Array.from({length:i.value.length});const d=I(()=>{const v=(!f.value||r.value===document.documentElement?x.height.value:f.value.height)-((t==null?void 0:t.value)??0);return Math.ceil(v/c.value*1.7+1)});function y(v,m){c.value=Math.max(c.value,m),u[v]=m,g.set(i.value[v],m)}function b(v){return u.slice(0,v).reduce((m,k)=>m+(k||c.value),0)}function P(v){const m=i.value.length;let k=0,K=0;for(;K<v&&k<m;)K+=u[k++]||c.value;return k-1}let D=0;function B(){if(!r.value||!f.value)return;const v=f.value.height-56,m=r.value.scrollTop,k=m<D?Pe:Fe,K=P(m+v/2),q=Math.round(d.value/3),J=K-q,O=h.value+q*2-1;k===Pe&&K<=O?h.value=Ie(J,0,i.value.length):k===Fe&&K>=O&&(h.value=Ie(J,0,i.value.length-d.value)),D=m}function V(v){if(!r.value)return;const m=b(v);r.value.scrollTop=m}const M=I(()=>Math.min(i.value.length,h.value+d.value)),T=I(()=>i.value.slice(h.value,M.value).map((v,m)=>({raw:v,index:m+h.value}))),Z=I(()=>b(h.value)),C=I(()=>b(i.value.length)-b(M.value));return ie(()=>i.value.length,()=>{u=ut(i.value.length).map(()=>c.value),g.forEach((v,m)=>{const k=i.value.indexOf(m);k===-1?g.delete(m):u[k]=v})}),{containerRef:r,computedItems:T,itemHeight:c,paddingTop:Z,paddingBottom:C,scrollToIndex:V,handleScroll:B,handleItemResize:y}}const Pt=le({items:{type:Array,default:()=>[]},renderless:Boolean,...St(),...Me(),...ot()},"VVirtualScroll"),Ne=ce()({name:"VVirtualScroll",props:Pt(),setup(e,i){let{slots:t}=i;const h=it("VVirtualScroll"),{dimensionStyles:o}=ct(e),{containerRef:c,handleScroll:r,handleItemResize:a,scrollToIndex:f,paddingTop:x,paddingBottom:g,computedItems:u}=It(e,st(e,"items"));return rt(()=>e.renderless,()=>{dt(()=>{var d;c.value=vt(h.vnode.el,!0),(d=c.value)==null||d.addEventListener("scroll",r)}),ft(()=>{var d;(d=c.value)==null||d.removeEventListener("scroll",r)})}),se(()=>{const d=u.value.map(y=>n(wt,{key:y.index,renderless:e.renderless,"onUpdate:height":b=>a(y.index,b)},{default:b=>{var P;return(P=t.default)==null?void 0:P.call(t,{item:y.raw,index:y.index,...b})}}));return e.renderless?n($,null,[n("div",{class:"v-virtual-scroll__spacer",style:{paddingTop:ve(x.value)}},null),d,n("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:ve(g.value)}},null)]):n("div",{ref:c,class:["v-virtual-scroll",e.class],onScroll:r,style:[o.value,e.style]},[n("div",{class:"v-virtual-scroll__container",style:{paddingTop:ve(x.value),paddingBottom:ve(g.value)}},[d])])}),{scrollToIndex:f}}});function ze(e,i){const t=te(!1);let h;function o(a){cancelAnimationFrame(h),t.value=!0,h=requestAnimationFrame(()=>{h=requestAnimationFrame(()=>{t.value=!1})})}async function c(){await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>{if(t.value){const f=ie(t,()=>{f(),a()})}else a()})}async function r(a){var g,u;if(a.key==="Tab"&&((g=i.value)==null||g.focus()),!["PageDown","PageUp","Home","End"].includes(a.key))return;const f=(u=e.value)==null?void 0:u.$el;if(!f)return;(a.key==="Home"||a.key==="End")&&f.scrollTo({top:a.key==="Home"?0:f.scrollHeight,behavior:"smooth"}),await c();const x=f.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(a.key==="PageDown"||a.key==="Home"){const d=f.getBoundingClientRect().top;for(const y of x)if(y.getBoundingClientRect().top>=d){y.focus();break}}else{const d=f.getBoundingClientRect().bottom;for(const y of[...x].reverse())if(y.getBoundingClientRect().bottom<=d){y.focus();break}}}return{onListScroll:o,onListKeydown:r}}const je=le({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:mt,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:ht},...gt({itemChildren:!1})},"Select"),Ft=le({...je(),...Te(ke({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...Le({transition:{component:yt}})},"VSelect");ce()({name:"VSelect",props:Ft(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,i){let{slots:t}=i;const{t:h}=Be(),o=j(),c=j(),r=oe(e,"menu"),a=I({get:()=>r.value,set:s=>{var w;r.value&&!s&&((w=c.value)!=null&&w.Î¨openChildren)||(r.value=s)}}),{items:f,transformIn:x,transformOut:g}=Ke(e),u=oe(e,"modelValue",[],s=>x(s===null?[null]:xe(s)),s=>{const w=g(s);return e.multiple?w:w[0]??null}),d=be(),y=I(()=>u.value.map(s=>f.value.find(w=>e.valueComparator(w.value,s.value))||s)),b=I(()=>y.value.map(s=>s.props.value)),P=te(!1);let D="",B;const V=I(()=>e.hideSelected?f.value.filter(s=>!y.value.some(w=>w===s)):f.value),M=I(()=>e.hideNoData&&!f.value.length||e.readonly||(d==null?void 0:d.isReadonly.value)),T=j(),{onListScroll:Z,onListKeydown:C}=ze(T,o);function v(s){e.openOnClear&&(a.value=!0)}function m(){M.value||(a.value=!a.value)}function k(s){var p,L;if(e.readonly||d!=null&&d.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(s.key)&&s.preventDefault(),["Enter","ArrowDown"," "].includes(s.key)&&(a.value=!0),["Escape","Tab"].includes(s.key)&&(a.value=!1),s.key==="Home"?(p=T.value)==null||p.focus("first"):s.key==="End"&&((L=T.value)==null||L.focus("last"));const w=1e3;function E(_){const U=_.key.length===1,N=!_.ctrlKey&&!_.metaKey&&!_.altKey;return U&&N}if(e.multiple||!E(s))return;const G=performance.now();G-B>w&&(D=""),D+=s.key.toLowerCase(),B=G;const ee=f.value.find(_=>_.title.toLowerCase().startsWith(D));ee!==void 0&&(u.value=[ee])}function K(s){if(e.multiple){const w=b.value.findIndex(E=>e.valueComparator(E,s.value));if(w===-1)u.value=[...u.value,s];else{const E=[...u.value];E.splice(w,1),u.value=E}}else u.value=[s],a.value=!1}function q(s){var w;(w=T.value)!=null&&w.$el.contains(s.relatedTarget)||(a.value=!1)}function J(){var s;P.value&&((s=o.value)==null||s.focus())}function O(s){P.value=!0}return se(()=>{const s=!!(e.chips||t.chip),w=!!(!e.hideNoData||V.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),E=u.value.length>0,[G]=ge.filterProps(e),ee=E||!P.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return n(ge,Y({ref:o},G,{modelValue:u.value.map(p=>p.props.value).join(", "),"onUpdate:modelValue":p=>{p==null&&(u.value=[])},focused:P.value,"onUpdate:focused":p=>P.value=p,validationValue:u.externalValue,dirty:E,class:["v-select",{"v-select--active-menu":a.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":u.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,readonly:!0,placeholder:ee,"onClick:clear":v,"onMousedown:control":m,onBlur:q,onKeydown:k}),{...t,default:()=>n($,null,[n(Oe,Y({ref:c,modelValue:a.value,"onUpdate:modelValue":p=>a.value=p,activator:"parent",contentClass:"v-select__content",disabled:M.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:J},e.menuProps),{default:()=>[w&&n(Ee,{ref:T,selected:b.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:p=>p.preventDefault(),onKeydown:C,onFocusin:O,onScrollPassive:Z,tabindex:"-1"},{default:()=>{var p,L,_;return[(p=t["prepend-item"])==null?void 0:p.call(t),!V.value.length&&!e.hideNoData&&(((L=t["no-data"])==null?void 0:L.call(t))??n(me,{title:h(e.noDataText)},null)),n(Ne,{renderless:!0,items:V.value},{default:U=>{var l;let{item:N,index:z,itemRef:ne}=U;const X=Y(N.props,{ref:ne,key:z,onClick:()=>K(N)});return((l=t.item)==null?void 0:l.call(t,{item:N,index:z,props:X}))??n(me,X,{prepend:F=>{let{isSelected:A}=F;return n($,null,[e.multiple&&!e.hideSelected?n(_e,{key:N.value,modelValue:A,ripple:!1,tabindex:"-1"},null):void 0,N.props.prependIcon&&n(he,{icon:N.props.prependIcon},null)])}})}}),(_=t["append-item"])==null?void 0:_.call(t)]}})]}),y.value.map((p,L)=>{var N;function _(z){z.stopPropagation(),z.preventDefault(),K(p)}const U={"onClick:close":_,onMousedown(z){z.preventDefault(),z.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return n("div",{key:p.value,class:"v-select__selection"},[s?t.chip?n(Ue,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:p.title}}},{default:()=>{var z;return[(z=t.chip)==null?void 0:z.call(t,{item:p,index:L,props:U})]}}):n(De,Y({key:"chip",closable:e.closableChips,size:"small",text:p.title},U),null):((N=t.selection)==null?void 0:N.call(t,{item:p,index:L}))??n("span",{class:"v-select__selection-text"},[p.title,e.multiple&&L<y.value.length-1&&n("span",{class:"v-select__selection-comma"},[He(",")])])])})]),"append-inner":function(){var U;for(var p=arguments.length,L=new Array(p),_=0;_<p;_++)L[_]=arguments[_];return n($,null,[(U=t["append-inner"])==null?void 0:U.call(t,...L),e.menuIcon?n(he,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),Ve({isFocused:P,menu:a,select:K},o)}});const bt=(e,i,t)=>e==null||i==null?-1:e.toString().toLocaleLowerCase().indexOf(i.toString().toLocaleLowerCase()),_t=le({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Dt(e,i,t){var a;const h=[],o=(t==null?void 0:t.default)??bt,c=t!=null&&t.filterKeys?xe(t.filterKeys):!1,r=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return h;e:for(let f=0;f<e.length;f++){const x=e[f],g={},u={};let d=-1;if(i&&!(t!=null&&t.noFilter)){if(typeof x=="object"){const P=c||Object.keys(x);for(const D of P){const B=pt(x,D,x),V=(a=t==null?void 0:t.customKeyFilter)==null?void 0:a[D];if(d=V?V(B,i,x):o(B,i,x),d!==-1&&d!==!1)V?g[D]=d:u[D]=d;else if((t==null?void 0:t.filterMode)==="every")continue e}}else d=o(x,i,x),d!==-1&&d!==!1&&(u.title=d);const y=Object.keys(u).length,b=Object.keys(g).length;if(!y&&!b||(t==null?void 0:t.filterMode)==="union"&&b!==r&&!y||(t==null?void 0:t.filterMode)==="intersection"&&(b!==r||!y))continue}h.push({index:f,matches:{...u,...g}})}return h}function Mt(e,i,t,h){const o=j([]),c=j(new Map),r=I(()=>h!=null&&h.transform?ye(i).map(h==null?void 0:h.transform):ye(i));Ae(()=>{const f=typeof pe(t)!="string"&&typeof pe(t)!="number"?"":String(pe(t)),x=Dt(r.value,f,{customKeyFilter:e.customKeyFilter,default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),g=ye(i),u=[],d=new Map;x.forEach(y=>{let{index:b,matches:P}=y;const D=g[b];u.push(D),d.set(D.value,P)}),o.value=u,c.value=d});function a(f){return c.value.get(f.value)}return{filteredItems:o,filteredMatches:c,getMatches:a}}function Rt(e,i,t){if(i==null)return e;if(Array.isArray(i))throw new Error("Multiple matches is not implemented");return typeof i=="number"&&~i?n($,null,[n("span",{class:"v-autocomplete__unmask"},[e.substr(0,i)]),n("span",{class:"v-autocomplete__mask"},[e.substr(i,t)]),n("span",{class:"v-autocomplete__unmask"},[e.substr(i+t)])]):e}const At=le({autoSelectFirst:{type:[Boolean,String]},search:String,..._t({filterKeys:["title"]}),...je(),...Te(ke({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...Le({transition:!1})},"VAutocomplete"),Bt=ce()({name:"VAutocomplete",props:At(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,i){let{slots:t}=i;const{t:h}=Be(),o=j(),c=te(!1),r=te(!0),a=j(!1),f=j(),x=oe(e,"menu"),g=I({get:()=>x.value,set:l=>{var F;x.value&&!l&&((F=f.value)!=null&&F.Î¨openChildren)||(x.value=l)}}),u=te(-1),d=I(()=>{var l;return(l=o.value)==null?void 0:l.color}),{items:y,transformIn:b,transformOut:P}=Ke(e),{textColorClasses:D,textColorStyles:B}=Vt(d),V=oe(e,"search",""),M=oe(e,"modelValue",[],l=>b(l===null?[null]:xe(l)),l=>{const F=P(l);return e.multiple?F:F[0]??null}),T=be(),{filteredItems:Z,getMatches:C}=Mt(e,y,()=>r.value?"":V.value),v=I(()=>M.value.map(l=>y.value.find(F=>e.valueComparator(F.value,l.value))||l)),m=I(()=>e.hideSelected?Z.value.filter(l=>!v.value.some(F=>F.value===l.value)):Z.value),k=I(()=>v.value.map(l=>l.props.value)),K=I(()=>v.value[u.value]),q=I(()=>{var F;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&V.value===((F=m.value[0])==null?void 0:F.title))&&m.value.length>0&&!r.value&&!a.value}),J=I(()=>e.hideNoData&&!y.value.length||e.readonly||(T==null?void 0:T.isReadonly.value)),O=j(),{onListScroll:s,onListKeydown:w}=ze(O,o);function E(l){e.openOnClear&&(g.value=!0),V.value=""}function G(){J.value||(g.value=!0)}function ee(l){J.value||(c.value&&(l.preventDefault(),l.stopPropagation()),g.value=!g.value)}function p(l){var ue,S,H;if(e.readonly||T!=null&&T.isReadonly.value)return;const F=o.value.selectionStart,A=k.value.length;if((u.value>-1||["Enter","ArrowDown","ArrowUp"].includes(l.key))&&l.preventDefault(),["Enter","ArrowDown"].includes(l.key)&&(g.value=!0),["Escape"].includes(l.key)&&(g.value=!1),["Enter","Escape","Tab"].includes(l.key)&&(q.value&&["Enter","Tab"].includes(l.key)&&X(Z.value[0]),r.value=!0),l.key==="ArrowDown"&&q.value&&((ue=O.value)==null||ue.focus("next")),!!e.multiple){if(["Backspace","Delete"].includes(l.key)){if(u.value<0){l.key==="Backspace"&&!V.value&&(u.value=A-1);return}const R=u.value;K.value&&X(K.value),u.value=R>=A-1?A-2:R}if(l.key==="ArrowLeft"){if(u.value<0&&F>0)return;const R=u.value>-1?u.value-1:A-1;v.value[R]?u.value=R:(u.value=-1,o.value.setSelectionRange((S=V.value)==null?void 0:S.length,(H=V.value)==null?void 0:H.length))}if(l.key==="ArrowRight"){if(u.value<0)return;const R=u.value+1;v.value[R]?u.value=R:(u.value=-1,o.value.setSelectionRange(0,0))}}}function L(l){V.value=l.target.value}function _(){var l;c.value&&(r.value=!0,(l=o.value)==null||l.focus())}function U(l){c.value=!0,setTimeout(()=>{a.value=!0})}function N(l){a.value=!1}function z(l){(l==null||l===""&&!e.multiple)&&(M.value=[])}const ne=te(!1);function X(l){if(e.multiple){const F=k.value.findIndex(A=>e.valueComparator(A,l.value));if(F===-1)M.value=[...M.value,l];else{const A=[...M.value];A.splice(F,1),M.value=A}}else M.value=[l],ne.value=!0,V.value=l.title,g.value=!1,r.value=!0,fe(()=>ne.value=!1)}return ie(c,(l,F)=>{var A;l!==F&&(l?(ne.value=!0,V.value=e.multiple?"":String(((A=v.value.at(-1))==null?void 0:A.props.title)??""),r.value=!0,fe(()=>ne.value=!1)):(!e.multiple&&!V.value?M.value=[]:q.value&&!a.value&&!v.value.some(ue=>{let{value:S}=ue;return S===m.value[0].value})&&X(m.value[0]),g.value=!1,V.value="",u.value=-1))}),ie(V,l=>{!c.value||ne.value||(l&&(g.value=!0),r.value=!l)}),se(()=>{const l=!!(e.chips||t.chip),F=!!(!e.hideNoData||m.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),A=M.value.length>0,[ue]=ge.filterProps(e);return n(ge,Y({ref:o},ue,{modelValue:V.value,"onUpdate:modelValue":z,focused:c.value,"onUpdate:focused":S=>c.value=S,validationValue:M.externalValue,dirty:A,onInput:L,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":g.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!t.selection,"v-autocomplete--selecting-index":u.value>-1},e.class],style:e.style,readonly:e.readonly,placeholder:A?void 0:e.placeholder,"onClick:clear":E,"onMousedown:control":G,onKeydown:p}),{...t,default:()=>n($,null,[n(Oe,Y({ref:f,modelValue:g.value,"onUpdate:modelValue":S=>g.value=S,activator:"parent",contentClass:"v-autocomplete__content",disabled:J.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:_},e.menuProps),{default:()=>[F&&n(Ee,{ref:O,selected:k.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:S=>S.preventDefault(),onKeydown:w,onFocusin:U,onFocusout:N,onScrollPassive:s,tabindex:"-1"},{default:()=>{var S,H,R;return[(S=t["prepend-item"])==null?void 0:S.call(t),!m.value.length&&!e.hideNoData&&(((H=t["no-data"])==null?void 0:H.call(t))??n(me,{title:h(e.noDataText)},null)),n(Ne,{renderless:!0,items:m.value},{default:ae=>{var we;let{item:W,index:Q,itemRef:$e}=ae;const Ce=Y(W.props,{ref:$e,key:Q,active:q.value&&Q===0?!0:void 0,onClick:()=>X(W)});return((we=t.item)==null?void 0:we.call(t,{item:W,index:Q,props:Ce}))??n(me,Ce,{prepend:re=>{let{isSelected:de}=re;return n($,null,[e.multiple&&!e.hideSelected?n(_e,{key:W.value,modelValue:de,ripple:!1,tabindex:"-1"},null):void 0,W.props.prependIcon&&n(he,{icon:W.props.prependIcon},null)])},title:()=>{var re,de;return r.value?W.title:Rt(W.title,(re=C(W))==null?void 0:re.title,((de=V.value)==null?void 0:de.length)??0)}})}}),(R=t["append-item"])==null?void 0:R.call(t)]}})]}),v.value.map((S,H)=>{var W;function R(Q){Q.stopPropagation(),Q.preventDefault(),X(S)}const ae={"onClick:close":R,onMousedown(Q){Q.preventDefault(),Q.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return n("div",{key:S.value,class:["v-autocomplete__selection",H===u.value&&["v-autocomplete__selection--selected",D.value]],style:H===u.value?B.value:{}},[l?t.chip?n(Ue,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:S.title}}},{default:()=>{var Q;return[(Q=t.chip)==null?void 0:Q.call(t,{item:S,index:H,props:ae})]}}):n(De,Y({key:"chip",closable:e.closableChips,size:"small",text:S.title},ae),null):((W=t.selection)==null?void 0:W.call(t,{item:S,index:H}))??n("span",{class:"v-autocomplete__selection-text"},[S.title,e.multiple&&H<v.value.length-1&&n("span",{class:"v-autocomplete__selection-comma"},[He(",")])])])})]),"append-inner":function(){var ae;for(var S=arguments.length,H=new Array(S),R=0;R<S;R++)H[R]=arguments[R];return n($,null,[(ae=t["append-inner"])==null?void 0:ae.call(t,...H),e.menuIcon?n(he,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:ee,onClick:xt},null):void 0])}})}),Ve({isFocused:c,isPristine:r,menu:g,search:V,filteredItems:Z,select:X},o)}});export{Bt as V};
